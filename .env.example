# App server
PORT=3000
SESSION_SECRET=

# Postgres connection for Node.js (pg)
PGHOST=localhost
PGPORT=5432
PGUSER=chatapp
PGPASSWORD=chatpass
PGDATABASE=chatapp

# Integrations
# Telegram Bot token (from @BotFather)
TELEGRAM_BOT_TOKEN=

# Microsoft Graph (Outlook) - Application credentials
MS_TENANT_ID=
MS_CLIENT_ID=
MS_CLIENT_SECRET=
# The mailbox to watch and send from (UPN or email)
MS_MAILBOX=
# Optional: client state to verify notifications
MS_CLIENT_STATE=

# Personal Outlook (MSA) mode using delegated auth via Device Code flow
# Set to true to use MSA for Outlook instead of app-only M365
OUTLOOK_PERSONAL=false
# Path to store MSA tokens
MSA_TOKEN_FILE=tokens/outlook_msa.json
# Secret key for internal ingest endpoint (used by MSA poller)
INTEGRATION_INGEST_KEY=

# Twilio WhatsApp (Sandbox)
# Get these from Twilio Console -> Messaging -> Try it out -> WhatsApp Sandbox
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
# The WhatsApp-enabled sender. For Sandbox, this is typically whatsapp:+14155238886
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886
# Optional: If set, Twilio will POST delivery/read events here
TWILIO_STATUS_CALLBACK_URL=
# Optional: set to true to enforce X-Twilio-Signature validation on webhooks
TWILIO_WEBHOOK_STRICT=false

# Feature flags
SIMULATOR_ENABLED=false

# SendPulse (Facebook & Instagram via Chatbots)
SENDPULSE_CLIENT_ID=
SENDPULSE_CLIENT_SECRET=
SENDPULSE_BOT_ID_FACEBOOK=
SENDPULSE_BOT_ID_INSTAGRAM=
SENDPULSE_WEBHOOK_KEY=
# Optional: override API base if needed
# SENDPULSE_API_BASE=https://api.sendpulse.com

# Custom Chatbot relay (route outbound replies here instead of direct IG/FB)
# If set, the server will POST outbound messages to this URL.
# The body includes: { platform, chat_id, contact_id?, text, conversation_id? }
# Provide a per-platform override for Instagram if needed.
CHATBOT_OUTBOUND_URL=
CHATBOT_OUTBOUND_INSTAGRAM_URL=
# Optional auth header sent as: X-Chatbot-Key: <value>
CHATBOT_OUTBOUND_KEY=
# If true, do not fall back to Meta/SendPulse when the chatbot endpoint fails.
CHATBOT_OUTBOUND_STRICT=false

# Meta (Messenger & Instagram)
# Webhook verify token you set in Meta App > Webhooks
META_VERIFY_TOKEN=
# App secret from Meta App > Basic settings (used to verify X-Hub-Signature)
META_APP_SECRET=
# Page access tokens (long-lived). For Instagram, you can also reuse FB page token if configured via the same app.
FB_PAGE_ACCESS_TOKEN=
IG_PAGE_ACCESS_TOKEN=
# Graph API version
META_GRAPH_VERSION=v19.0
# Strict signature verification on webhooks (403 if invalid)
META_WEBHOOK_STRICT=false
